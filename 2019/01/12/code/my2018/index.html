
<!DOCTYPE html>
<html lang class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elton</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Elton,"> 
    <meta name="description" content="
你一直说的那个公园已经拆了


还记得荡着秋千日子就飞起来


慢慢的下午阳光都在脸上撒野


你那傻气 我真是想念

"> 
    <meta name="author" content="Elton"> 
    <link rel="alternative" href="atom.xml" title="Elton" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.ico"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
</head>
</html>
<body class="loading">
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">我的2018年度技术总结:代码即设计 | 掘金年度征文</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>
    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">我的2018年度技术总结:代码即设计 | 掘金年度征文</h1>
        <div class="stuff">
            <span>一月 12, 2019</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Code/">Code</a></li></ul>


        </div>
        <div class="content markdown">
            <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>2018年过去了，我很怀念它。</p>
<p>2018年是漫长的一年，在这一年里收获了太多，难以细细道来。</p>
<p>从一个在屎山上添屎的菜鸡，到现在的用心设计代码，饮冰二年，难凉我对编程艺术的追崇热血。</p>
<p>从“SB js, SB java”的抱怨，到后面渐渐理解各个语言的设计思想，变成了对各个语言之美的赞叹。</p>
<p>2018年，对我最重要的书是clean code，我写的最多的是java 和 js， 熟悉了python，但最让我赞叹的语言还是kotlin，一门将clean code演绎在骨子里的语言。</p>
<p>2019于此，我总结下我的2018关键字： 设计， 语言。</p>
<h2 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h2><p>设计是门艺术。</p>
<h3 id="设计你的代码"><a href="#设计你的代码" class="headerlink" title="设计你的代码"></a>设计你的代码</h3><p>在年中的时候，我一度认为代码丑陋主要有两个原因:</p>
<ul>
<li>没有遵循约定的代码格式，令代码不可读。所以我使用ktlint，eslint去改善这一点，并在java代码中严格遵循这种规范</li>
<li>没有好的接口，没有注释文档</li>
</ul>
<p>所以这导致我在写新的模块中，大量地使用了接口，并且在暴露的接口方法中写了十分详实的文档，遵循javadoc的规范。</p>
<p>后来我认为这是愚蠢的做法。类可以自己描述、表达的，就不需要为其写接口。代码可以描述的，就不需要为其写文档。在我新的代码当中，我开始控制我自己写注释的欲望：人们往往不会去维护注释。</p>
<p>我开始发疯一样，在起一个类名、方法名、变量名的时候想半天。我开始抽象大量的方法，每当我觉得我有好一段代码有写时，我就开始准备一个新的方法。我遵循了clean code的原则，并觉得每一句话都是圣经。</p>
<p>直到我看到了5分钟原则：起名超过5分钟的话，就妥协吧。是的，你没办法为编程里面的所以类与对象映射成一个在现实生活中有意义的事情。很多重构的书，《clean code》 或者是《重构》，都不断地叫你：类名不要出现helper，不要出现manager，但是他们却没有给出解决的方案。</p>
<p>我开始思考：如果我不写helper，我该怎么命名辅助类？我不写manager，我怎么抽象facade？</p>
<p><code>世界上本没有路，走的人多了，便有了路。Helper，manager本来是不可读的，写的人多了，他就被约定可读了。</code></p>
<p>所以我开始随心所欲地写，找很多牛人帮我code review。我开始对自己的代码有信心，并再也不怕展示自己的代码。</p>
<h3 id="设计你的系统"><a href="#设计你的系统" class="headerlink" title="设计你的系统"></a>设计你的系统</h3><p>也是因缘际会。当初在看DDD的时候，感觉DDD是这么一种思想:</p>
<blockquote>
<p>一问都知道，一说都明白，却从来没人用。</p>
</blockquote>
<p>我自忖在理解能力上还行（当年语文还行），却也看的昏头巴脑。这更激起我的好奇心，所以我开始准备搞清楚这是个什么玩意。</p>
<p>我翻阅了许多的博客，大部分的讨论只是浅尝辄止，只有一篇知乎上的美团点评的实践还算详尽：<a href="https://zhuanlan.zhihu.com/p/32459776" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/32459776</a></p>
<p>然后我开始读DDD,IDDD，啃电子书是痛苦的。我一边笔记一边读，勉强啃完，但是也是只是通了几窍。</p>
<p>在我读完IDDD后，再重读美团这篇文章，发现可能和我理解的不太一样，所以我在评论中留下这样的评论，但是遗憾没有收到回复：</p>
<blockquote>
<p>一点浅见： 题中作者已经提到了， 架构和IDDD中有所不同， 我仔细回顾了一下， 发现可能不同的有点多。 在IDDD中， 领域服务是对领域模型的一种补充， 是附属品， 相当于实在是面向过程的才放到领域服务里， 实际上可能根本用不上， 而在本文中， 不知道我有没有理解错， 领悟服务变成了对领域模型的封装？ 这点感觉会导致贫血， 而且和书中所描述的领域服务有所出入？望指教。</p>
</blockquote>
<p>后面看到18年9月印刷了一本《领域驱动设计精粹》，我赶紧从淘宝买来，放在案头准备有时间好好研习。</p>
<p>DDD给我带来的是：在每一个项目开始时，我都会细细地理通领域知识，并在分层、结构设计上更加自信。但是遗憾，我没有真正实践它的机会。</p>
<h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><h3 id="Kotlin"><a href="#Kotlin" class="headerlink" title="Kotlin"></a>Kotlin</h3><p>初识Kotlin时正好我在研习clean code。当时我就在想：设计kotlin的人一定是clean code的粉丝。Kotlin的思想，禁止空值传递、取消违反开闭的checked exception、 类似groovy的有表达力的dsl等，让我觉得写kotlin是种享受。</p>
<p>Kotlin太新了，所以吸收了无数的别的编程语言的智慧，并且使用富有表达力的形式展现。</p>
<p>Kotlin multiplatform也是强大的，虽然它还是十分地年轻，但是我十分看好它。我也十分自豪，为kotlin multiplatform的社区贡献了自己的代码。</p>
<blockquote>
<p>也是因缘际会，当初接到一个需求，将一个kotlin multiplatform的项目增加node.js的支持。我开始研究这个东西，并且发现ktor这个库没有对node.js做支持，而这个kotlin multiplatform的项目是有依赖ktor的。所以我提了issue，提了pr，为ktor加上了node.js的support。</p>
</blockquote>
<h3 id="js"><a href="#js" class="headerlink" title="js"></a>js</h3><p>js圈简直就是娱乐圈。今年爆出几个大事，都与js有关系，就连我常用的nodemon，也依赖了event-stream这个库。</p>
<p>不过这改变不了js优秀的异步驱动的思想。用Js编程你可以忘掉一切多线程的烦恼（node在18年5月份release了对多线程的支持，不过好像是通过传递来共享内存），而es678的语法让你发现，你要的js基本都有。</p>
<p>2018年也尝试了Typescript，将一个js的项目完全地重构成ts，过了一把重构的瘾。有人说ts和python3.5基本是一个语言，我非常认同。</p>
<h2 id="展望"><a href="#展望" class="headerlink" title="展望"></a>展望</h2><p>18年过去，常常感觉自己还是好弱，想学的东西太多。</p>
<p>感觉自己soft skills更是需要好好提升了。这是重中之重。没有办法做一个纯粹的programmer。</p>
<p> <a href="https://juejin.im/post/5c346562e51d45518e148674" target="_blank" rel="noopener">掘金年度征文 | 2018 与我的技术之路 征文活动正在进行中……</a></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src>
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/4336248.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/163/4338461.mp3"></li>
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="true" data-ci="27798d22668192341ae2" data-cs="ccf0e66c06ffc16845926fa2f54a2976e0666979" data-r="eltonZhong.github.io" data-o="EltonZhong" data-a="EltonZhong" data-d="false">查看评论</div>


    </div>
    
        <div class="side">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#写在前面"><span class="toc-number">1.</span> <span class="toc-text">写在前面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设计"><span class="toc-number">2.</span> <span class="toc-text">设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#设计你的代码"><span class="toc-number">2.1.</span> <span class="toc-text">设计你的代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设计你的系统"><span class="toc-number">2.2.</span> <span class="toc-text">设计你的系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#语言"><span class="toc-number">3.</span> <span class="toc-text">语言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Kotlin"><span class="toc-number">3.1.</span> <span class="toc-text">Kotlin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js"><span class="toc-number">3.2.</span> <span class="toc-text">js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#展望"><span class="toc-number">4.</span> <span class="toc-text">展望</span></a></li></ol>
        </div>
    
</div>


    </div>
</div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":100,"height":200},"mobile":{"show":true},"log":false});</script></body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131070617-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


</html>